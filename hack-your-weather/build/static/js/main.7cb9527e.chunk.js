(this["webpackJsonphack-your-weather"]=this["webpackJsonphack-your-weather"]||[]).push([[0],{188:function(e,t,c){},189:function(e,t,c){},373:function(e,t,c){"use strict";c.r(t);var n=c(4),a=c(1),r=c.n(a),s=(c(184),c(58)),i=c.n(s),j=(c(188),c(189),c(39)),o=c.n(j),b=c(153),u=c(60),d=c(13),l=c(36),h=function(e){var t=e.cityItem,c=e.setCityUl,a=e.cityUl,r=t.name,s=t.sys,i=t.weather,j=t.main,o=t.coord;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("button",{id:"close",type:"button",onClick:function(){return function(e){var t=a.filter((function(t){return t.id!==e}));c(t)}(t.id)},children:"X"}),Object(n.jsxs)(l.b,{to:"/".concat(t.id),children:[" ",Object(n.jsxs)("h2",{children:[r,", ",s.country]})]}),Object(n.jsxs)("div",{className:"weather-desc",children:[Object(n.jsx)("h3",{children:i[0].main}),Object(n.jsx)("p",{children:i[0].description}),Object(n.jsxs)("p",{children:["min temp: ",j.temp_min]}),Object(n.jsxs)("p",{children:["max temp: ",j.temp_max]}),Object(n.jsxs)("p",{children:["location: ",o.lat,", ",o.lon]})]})]})};function O(e){var t=e.changeUrl,c=Object(a.useState)(""),r=Object(d.a)(c,2),s=r[0],i=r[1];return Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t("https://api.openweathermap.org/data/2.5/weather?q=".concat(s,"&units=metric&appid=").concat("d641d7e4dfc623575a367b737b3a190d"))},children:[Object(n.jsx)("input",{id:"src-text",placeholder:"Enter a valid city name",type:"text",onChange:function(e){i(e.target.value)}}),Object(n.jsx)("input",{id:"src-btn",disabled:s.length<1,value:"Search City",type:"submit"})]})}function x(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),c=t[0],r=t[1],s=Object(a.useState)(),i=Object(d.a)(s,2),j=i[0],l=i[1],x=Object(a.useState)(!1),p=Object(d.a)(x,2),f=p[0],m=p[1],y=Object(a.useState)(!1),v=Object(d.a)(y,2),g=v[0],k=v[1];return Object(a.useEffect)((function(){(function(){var e=Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j){e.next=24;break}return m(!0),e.prev=2,e.next=5,fetch(j);case 5:if(t=e.sent,console.log(t),m(!1),!t.ok){e.next=17;break}return k(!1),e.next=12,t.json();case 12:n=e.sent,r([n].concat(Object(b.a)(c))),console.log(c),e.next=18;break;case 17:k(!0);case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(2),k(!0),m(!1);case 24:case"end":return e.stop()}}),e,null,[[2,20]])})));return function(){return e.apply(this,arguments)}})()()}),[j]),Object(n.jsxs)("div",{className:"src-container",children:[Object(n.jsx)(O,{changeUrl:function(e){l(e)}}),g&&Object(n.jsxs)("p",{className:"error-message",children:["City not found! ",g]}),f&&Object(n.jsx)("p",{children:"Loading ..."}),Object(n.jsx)("ul",{id:"city-ul",children:c&&c.map((function(e){return Object(n.jsx)("li",{className:"city-item",children:Object(n.jsx)(h,{cityItem:e,setCityUl:r,cityUl:c})},e.id)}))})]})}var p=function(){return Object(n.jsx)("h1",{className:"hdr",children:"Weather"})},f=c(24);function m(e){var t=e.match,c=Object(a.useState)([]),r=Object(d.a)(c,2),s=r[0],i=r[1],j=Object(a.useState)(),b=Object(d.a)(j,2),h=b[0],O=b[1],x=Object(a.useState)(!1),p=Object(d.a)(x,2),m=p[0],y=p[1],v=Object(a.useState)(!1),g=Object(d.a)(v,2),k=g[0],w=g[1],S="https://api.openweathermap.org/data/2.5/forecast?id=".concat(t.params.cityId,"&units=metric&appid=").concat("d641d7e4dfc623575a367b737b3a190d");return Object(a.useEffect)((function(){(function(){var e=Object(u.a)(o.a.mark((function e(){var t,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S){e.next=24;break}return w(!0),e.prev=2,e.next=5,fetch(S);case 5:if(t=e.sent,console.log(t),w(!1),!t.ok){e.next=17;break}return y(!1),e.next=12,t.json();case 12:c=e.sent,i(c.list),O(c.city.name),e.next=18;break;case 17:y(!0);case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(2),y(!0),w(!1);case 24:case"end":return e.stop()}}),e,null,[[2,20]])})));return function(){return e.apply(this,arguments)}})()()}),[S]),Object(n.jsxs)("div",{className:"chart-container",children:[Object(n.jsxs)("h2",{children:["5 days forecast in ",h]}),k&&Object(n.jsx)("h3",{children:"Loading..."}),m&&Object(n.jsxs)("p",{className:"error-message",children:["Something went wrong... ",m]}),Object(n.jsx)("div",{style:{width:"100%",height:500},children:Object(n.jsx)(f.d,{children:Object(n.jsxs)(f.b,{data:s,margin:{top:10,right:30,left:0,bottom:0},children:[Object(n.jsx)(f.c,{}),Object(n.jsx)(f.f,{dataKey:"dt_txt"}),Object(n.jsx)(f.g,{dataKey:"main.temp"}),Object(n.jsx)(f.e,{}),Object(n.jsx)(f.a,{type:"monotone",dataKey:"main.temp",stroke:"#990000",fill:"#ff8000"})]})})}),Object(n.jsx)(l.b,{to:"/",children:Object(n.jsx)("button",{className:"back",children:"Back"})})]})}var y=c(8);var v=function(){return Object(n.jsx)(l.a,{children:Object(n.jsxs)(y.c,{children:[Object(n.jsxs)(y.a,{exact:!0,path:"/",children:[Object(n.jsx)(p,{}),Object(n.jsx)(x,{})]}),Object(n.jsx)(y.a,{path:"/:cityId",component:m})]})})},g=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,375)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(v,{})}),document.getElementById("root")),g()}},[[373,1,2]]]);
//# sourceMappingURL=main.7cb9527e.chunk.js.map